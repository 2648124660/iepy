{% comment %}
    Given a TextSegment object in the context, with the name of segment
    this will render the html of its text with all the metadata
{% endcomment %}


<div class="segment">
    {% for rich_token in segment.get_enrich_tokens %}
        {% if rich_token.entity_occurrences %}
            <span class="rich-token entity-occurrence" data-occurrence-ids="{{ rich_token.entity_occurrences }}">
        {% else %}
            <span class="rich-token">
        {% endif %}
            <span class="pos-tag"> {{ rich_token.pos }} </span>
            <span class="token"> {{ rich_token.token }} </span>
        </span>
    {% endfor %}
</div>
